File: {{ filename }}

{% if rag_context %}
Relevant Cryptol knowledge (for your analysis only â€” do not quote verbatim and do not include any code in the instruction):
-----8<-----
{{ rag_context }}
-----8<-----
{% endif %}

Definition to explain:
- name: {{ def_name }}
{% if def_params %}- params: {{ def_params | join(" ") }}{% endif %}

{% if instruction %}
Instruction (what the training example asks for):
{{ instruction }}
{% endif %}


Masked source (context only; do not quote):
-----8<-----
{{ masked_source }}
-----8<-----

Ground-truth definition (the canonical answer; do not quote):
-----8<-----
{{ target_definition }}
-----8<-----

Length rules (STRICT):
- Keep the instruction <= {{ instruction_max_words }} words.
- Detail level: {{ instruction_detail_level }}.
{% if is_thin_wrapper %}
- This definition is a thin wrapper/specialization. Do NOT describe the underlying algorithm or add extra API/features not implied by the excerpt.
{% endif %}

Write a brief explanation of what {{ def_name }} does and how it works.
Constraints:
- Return ONLY a JSON object with the single key: explanation
- No code, no backticks, no fenced blocks
- Do not restate the instruction verbatim
